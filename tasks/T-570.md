# APIエラーハンドリング統一 & CORS設定

全 API エンドポイントのエラーレスポンス形式を統一し、CORS を設定してください。

## 前提

- worker/index.ts に複数のエンドポイントが実装されている
- Cloudflare Pages（フロントエンド）と Workers（API）が別オリジンになる可能性がある

## やること

1. エラーレスポンスの統一:
   - 全エンドポイントで共通のエラーレスポンス形式を使用する: `{ error: string, code?: string }`
   - HTTP ステータスコードの統一: 400, 401, 404, 409, 500
   - 予期しないエラーのキャッチ（try-catch ラッパー）

2. CORS 設定:
   - Pages と Workers が同一オリジンの場合: CORS 不要（/api/* ルーティング）
   - 別オリジンの場合: 適切な CORS ヘッダーを設定する
   - Access-Control-Allow-Origin, Methods, Headers, Credentials

3. `npm test` で全テストがパスすることを確認する

4. 変更をコミットする
