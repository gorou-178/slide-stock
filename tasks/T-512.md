# プロバイダ検出ユニットテスト

プロバイダ検出モジュールの自動テストを作成してください。

## 前提

- docs/provider-spec.md の仕様に基づいてテストを設計する
- テスト対象: worker/lib/provider.ts の detectProvider() 関数
- src/test/seed.ts にサンプル URL がある

## やること

1. test/worker/provider.test.ts を作成する:

   ### SpeakerDeck
   - 正常 URL: `https://speakerdeck.com/user/slide-title` → provider='speakerdeck'
   - www 付き: `https://www.speakerdeck.com/user/slide-title` → 正規化
   - 末尾スラッシュ: → 正規化
   - クエリパラメータ付き: → 除去して正規化
   - embed URL: → エラー or 正規化

   ### Docswell
   - 正常 URL: `https://www.docswell.com/s/user/slug` → provider='docswell'
   - www なし: → 正規化
   - 末尾スラッシュ: → 正規化

   ### Google Slides
   - 正常 URL: `https://docs.google.com/presentation/d/{id}/pub` → provider='google_slides'
   - edit URL: `https://docs.google.com/presentation/d/{id}/edit` → 正規化
   - embed URL: → 正規化
   - 短い形式: → 正規化

   ### エラーケース
   - 未対応ドメイン: `https://example.com/slide` → エラー
   - 無効な URL: `not-a-url` → エラー
   - 空文字列: → エラー
   - 対応ドメインだが無効なパス: → エラー

2. テストが正しく「失敗する」ことを確認する（実装前の場合）

3. テストコードをコミットする
